# Casual Thoughts about Linear Algebra

1. 数据分析问题的本质（例子：最小二乘法）

Data Science以及与数据分析有关的问题的解决过程往往是要把一个现实问题转变为一个数学问题，经过求解之后再将这个解回归到现实问题之中。以一个最小二乘法解决数据回归问题作为例子：假设我们现在有一组数据，每个数据对应一组现实事物的特征以及其归属的群类：例如我们根据个体对二次元手游的偏好程度来推断其所属群类，其特征即为对各个知名IP的评价，例如（原神，明日方舟，重返未来）这样一个特征组附带着一个死宅程度评分，这个数据集中的一个数据点就可以表示为（5，3，2，86），反映这个人对这三个知名IP的评价分数，以及这个人本身的死宅分数 -- 想象一个四维的空间，这个点此刻就在这个空间中以坐标（5，3，2，86）呈现。

假设我们拥有很多个这样的数据点，它们共同组成了我们所需的数据集，而我们的任务则是*基于当前的数据，归纳总结出一个基本普适的规律，使其能够作为预测未知数据的依据*，也就是说，你得到了这个规律，对于一个属于同类群的陌生的人，你也可以猜测他对各项IP的评分。实际上，在这个问题中，数学的味道十分明显--想象这些数据点分布在空间中，怎样才能求解出一个适用于这些数据点的分布规律呢？或许一个函数可以，我们现阶段设想它是一个直线，能够让绝大多数的数据点贴合在它上面，然后，我们在猜测陌生数据的时候，直接将对各个手游的评价分数（x，y，z）代入这个函数，便能得到此人的死宅分数预测score了。

但怎样得出这个函数呢？通过数据点出发，我们能得到很多个方程组成的一个大方程组：

```
ux1 + vy1 + wz1 = score1 
ux2 + vx2 + wz2 = score2
...
```

但这样似乎不太对 -- 我们凭什么断定，这些数据点在数据空间里的位置纯粹由x，y，z来决定呢？我们为什么能断定，没有什么不受这三个IP评分影响的某种东西同样在影响着一个人的死宅程度呢？我们不能断定，因此我们还要加入一个常数项，用来描述在以x，y，z作为特征主导我们的判断的情况下，所遗漏掉的其他影响因素（这些因素不随x，y，z而变，因此可以写为常数），如下所示：

```
b + ux1 + vy1 + wz1 = score1
b + ux2 + vx2 + wz2 = score2
...
```

我们得到了方程组，然后呢？我们自然是要解这个方程组，但我们要得到的并不是x，y，z，score中的任何一个，我们要得到的是构成我们需要的函数的参数，也就是b，u，v，w，这些参数是我们真正要求解的东西。我们的目标也因此转移为了解一个硕大的三元一次方程组。由于这个方程组太过巨大，我们此处先列举上四个，并且列出它们的矩阵形式。

```
b + ux1 + vy1 + wz1 = score1
b + ux2 + vx2 + wz2 = score2
b + ux3 + vy3 + wz3 = score3
b + ux4 + vx4 + wz4 = score4
```

也就是：

```
1 x1 y1 z1   b   score1
1 x2 y2 z2 * u = score2
1 x3 y3 z3   v   score3
1 x4 y4 z4   w   score4
```

它自然可以写作 `Ax = b` 的形式。

显然，如果对矩阵消元，我们是可以得到这个方程组的唯一解的，前提是，这个矩阵的各行各列都线性无关。想象一下，一个可能有数万行列的矩阵，各行各列都线性无关的概率非常小，甚至于大概率是无解的。因此，我们需要稍微改变下我们的目标，我们需要从求解，改为求当前（无解）情况下的最优解。但是何为最优解？最优解便是，当我们把矩阵A当作b，u，v，w到向量score的线性映射，而这个线性映射无解，也就是得不到当前的向量score之后，我们将原本的向量score分解为两个向量err和新的score，这个新的score落在了原本方程组的解域之中，也就是矩阵A的列空间之中，我们用新的score来代替原本不可能达到的那个score，但这个新score此时只能说是替代解而非最优解，如何得到最优解？我们便可以看向量的分解，想让新的score最接近原来的score，就要让另一个分量err最小--而什么时候err最小呢？答案是新的score和err刚好正交的时候，也就是说，新的score是原本score向量在矩阵A列空间上的投影的时候。也就是说，求方程组Ax=b的最优解，即是求b在矩阵A列空间上投影的过程。

那么，在线性代数中，自然有一个求解向量b在矩阵A列空间投影的公式，那便是：p = （A（ATA）-1 AT）b，由此，我们便求出了p，而由其初始形态 x = （ATA）-1 AT b，我们也能得到x，即向量b，u，v，w，问题得解。

解决了b，u，v，w，我们便能得到我们想要的那个函数，从而根据手游评分来预测未知个体的死宅浓度了。
